<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype Implementation: Personalized Learning Path Recommender with Proactive Chatbot</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 20px auto;
            padding: 0 20px;
            background-color: #f9f9f9;
        }
        .container {
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }
        h1, h2, h3 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h1 { font-size: 2em; }
        h2 { font-size: 1.5em; margin-top: 30px;}
        h3 { font-size: 1.2em; border-bottom: none; }
        .step {
            border-left: 3px solid #3498db;
            padding-left: 20px;
            margin-bottom: 25px;
        }
        .code-box {
            background-color: #2d3436;
            color: #dfe6e9;
            padding: 15px;
            border-radius: 5px;
            font-family: "Courier New", Courier, monospace;
            white-space: pre-wrap;
            font-size: 0.9em;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 0.95em;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #ecf0f1;
            color: #34495e;
        }
        .button {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            text-align: center;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #2980b9;
        }
        .path-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin-top: 20px;
        }
        .path {
            flex: 1;
            min-width: 260px;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            background-color: #fafafa;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .path.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .path h3 { margin-top: 0; }
        .scores-box {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 8px 10px;
            font-size: 0.9em;
            margin-top: 10px;
        }
        .scores-box span.label {
            font-weight: 600;
            color: #2c3e50;
        }
        .result-box {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.95em;
        }
        .best-path {
            border-color: #27ae60;
            box-shadow: 0 0 10px rgba(39, 174, 96, 0.2);
        }
        .best-path .result-box {
            background-color: #e8f8ef;
            color: #27ae60;
        }
        .other-path .result-box {
            background-color: #fbeeee;
            color: #c0392b;
        }
        #final-result {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background-color: #e8f8ef;
            border: 2px solid #27ae60;
            border-radius: 8px;
        }

        /* CHATBOT / HCI SECTION */
        #chatbot-section {
            display: none;
            margin-top: 30px;
        }
        .chat-wrapper {
            position: relative;
            background-color: #eaf5fd;
            border-radius: 10px;
            padding: 15px;
            max-width: 90%;
            margin-top: 20px;
            border: 1px solid #a8d4f6;
        }
        .chat-wrapper::before {
            content: 'ðŸ¤– Proactive Tutor';
            position: absolute;
            top: -20px;
            left: 10px;
            font-size: 0.8em;
            font-weight: bold;
            color: #2980b9;
        }
        .chat-text {
            font-size: 0.95em;
            color: #2c3e50;
            line-height: 1.5;
        }

        /* dynamic response box for hint/example/self-try */
        .support-response {
            display: none;
            background-color: #ffffff;
            border: 1px solid #c9dff5;
            border-radius: 6px;
            padding: 12px 14px;
            margin-top: 15px;
            font-size: 0.85em;
            color: #2c3e50;
        }
        .support-response code {
            background-color: #f5f8ff;
            border: 1px solid #dbe6ff;
            border-radius: 4px;
            font-size: 0.8em;
            padding: 3px 5px;
            display: inline-block;
        }

        .privacy-line {
            font-size: 0.75em;
            color: #6b6b6b;
            margin-top: 12px;
            border-top: 1px solid #c9dff5;
            padding-top: 8px;
        }

        /* QUICK REPLIES (SRL SUPPORT) */
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        .chip-btn {
            background-color: #fff;
            border: 1px solid #3498db;
            color: #3498db;
            border-radius: 20px;
            padding: 8px 14px;
            font-size: 0.8em;
            font-weight: 500;
            cursor: pointer;
        }
        .chip-btn:hover {
            background-color: #3498db;
            color: #fff;
        }
        .chip-btn:focus {
            outline: 2px solid #1b6fa5;
            outline-offset: 2px;
        }

        /* MICRO-SURVEY */
        #survey-section {
            display: none;
            margin-top: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fcfcfc;
            padding: 20px;
        }
        #survey-section h2 {
            border-bottom: 2px solid #3498db;
        }
        #survey-section h3 {
            margin-top: 0;
        }
        .survey-item {
            margin-bottom: 15px;
            font-size: 0.9em;
        }
        .likert-row {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            font-size: 0.8em;
        }
        .likert-row label {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .likert-row input {
            cursor: pointer;
        }

        .survey-submit-wrapper {
            margin-top: 20px;
        }
        .submit-btn {
            background-color: #27ae60;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 16px;
            font-size: 0.9em;
            cursor: pointer;
        }
        .submit-btn:hover {
            background-color: #1f8c4d;
        }
        #survey-thanks {
            display: none;
            margin-top: 15px;
            font-size: 0.85em;
            background-color: #e8f8ef;
            color: #27ae60;
            border: 1px solid #27ae60;
            border-radius: 6px;
            padding: 10px 12px;
        }

        /* ACCESSIBILITY NOTE */
        .access-note {
            font-size: 0.8em;
            color: #777;
            margin-top: 10px;
        }

    </style>
</head>
<body>

    <!-- HEADER / CONTEXT -->
    <div class="container">
        <h1>Prototype Implementation: Personalized Learning Path Recommender with Proactive Chatbot</h1>
        <p>
            This prototype demonstrates how an AI-driven personalized learning system can generate an optimized learning path for a specific learner profile and then deliver proactive, empathetic support based on real-time struggle signals. The scenario follows a hypothetical student, <strong>Ayse</strong>, beginning the topic of <strong>Loops</strong> in an "Introduction to Programming" course.
        </p>
        <p class="access-note">
            Accessibility note: Interface elements use clear labels, progressive disclosure, and optional assistance choices
            in line with WCAG-informed design and cognitive loadâ€“aware HCI principles.
        </p>
    </div>

    <!-- STAGE 1: LEARNER MODEL + CONTENT POOL -->
    <div class="container">
        <h2>Stage 1: Learner Profile and Content Pool</h2>
        <div class="step">
            <p><strong>Scenario:</strong> The system models Ayse's current state before recommending how she should study loops. The goal is to pick not just any path, but the <em>most instructionally appropriate</em> path for her needs (not too hard, not too slow, not demotivating).</p>
            
            <h3>Table 1. Student Profile (Ayse)</h3>
            <table aria-label="Student profile data table">
                <tr><th>Feature</th><th>Value</th><th>Description</th></tr>
                <tr>
                    <td>Prior Knowledge</td>
                    <td>Medium</td>
                    <td>Scored ~75% on the previous topic ("Variables").</td>
                </tr>
                <tr>
                    <td>Learning Speed</td>
                    <td>Slow</td>
                    <td>Finishes activities about 20% slower than the course average.</td>
                </tr>
                <tr>
                    <td>Cognitive Load Tolerance</td>
                    <td>Medium</td>
                    <td>Performance drops after two high-difficulty tasks in a row.</td>
                </tr>
            </table>

            <h3>Table 2. Learning Objects for "Loops"</h3>
            <table aria-label="Learning materials table">
                <tr>
                    <th>ID</th>
                    <th>Material Type</th>
                    <th>Difficulty</th>
                    <th>Avg Duration (min)</th>
                </tr>
                <tr><td>M1</td><td>Video Lecture</td><td>Easy</td><td>10</td></tr>
                <tr><td>M2</td><td>Guided Coding Exercise</td><td>Medium</td><td>20</td></tr>
                <tr><td>M3</td><td>Interactive Simulation</td><td>Medium</td><td>15</td></tr>
                <tr><td>M4</td><td>Short Quiz (5 Q)</td><td>Hard</td><td>15</td></tr>
            </table>
        </div>
    </div>

    <!-- STAGE 2/3: OPTIMIZATION -->
    <div class="container">
        <h2>Stage 2 &amp; 3: Multi-Objective Optimization (GA vs SSA)</h2>
        <div class="step">
            <p>
                The system generates multiple candidate learning paths. Each path is scored by a multi-objective
                fitness function that balances four goals:
            </p>
            <div class="code-box">
                f(P) = Î± Â· Learning Gain (G) + Î² Â· Engagement (M)
                     âˆ’ Î³ Â· Time (T) âˆ’ Î´ Â· Cognitive Load (L)
            </div>
            <p style="font-size:0.9em; color:#555;">
                Two metaheuristic optimizers are compared:
                <strong>Genetic Algorithm (GA)</strong>, which explores novel learning sequences,
                and the <strong>Salp Swarm Algorithm (SSA)</strong>, which quickly converges on stable,
                low-stress paths.
            </p>

            <button class="button" onclick="runSimulation()" aria-label="Run personalized learning path simulation">
                Run Simulation
            </button>
            
            <div class="path-container" id="path-container" aria-live="polite"></div>

            <div id="final-result">
                <h3>Recommended Paths by Algorithm</h3>
                <p id="result-text"></p>
            </div>
        </div>
    </div>

    <!-- STAGE 4: PROACTIVE CHATBOT / HCI -->
    <div class="container" id="chatbot-section">
        <h2>Stage 4: Proactive, Empathy-Aware Tutor Interaction</h2>
        <div class="step">
            <p>
                While following the recommended path, Ayse reaches <strong>M2: Guided Coding Exercise</strong>.
                She spends longer than expected and fails three attempts in a row.
                The system logs an xAPI event describing this struggle and triggers a proactive support messageâ€”
                without waiting for Ayse to ask for help.
            </p>

            <div class="code-box">
{
  "actor": { "name": "Ayse", "mbox": "mailto:ayse@sakarya.edu.tr" },
  "verb": { "id": "http://adlnet.gov/expapi/verbs/failed", "display": { "en-US": "failed" } },
  "object": { "id": "http://.../M2_Coding_Exercise", "definition": { "name": { "en-US": "For Loop Exercise" } } },
  "context": { "extensions": { "http://.../attempt_count": 3,
                               "http://.../time_spent_seconds": 420 } }
}
            </div>

            <div class="chat-wrapper" role="alert" aria-live="assertive">
                <div class="chat-text">
                    Hi Ayse â€” this step is tricky for many students, so struggling here is completely normal.  
                    I noticed you've tried a few times, which shows real effort. ðŸ’ª  
                    Before we continue, would you like support in a way that works best for you?<br><br>

                    Option A: I can walk you through the loop step-by-step.<br>
                    Option B: I can show you a similar solved example and highlight the pattern.<br>
                    Option C: We pause, you try once more on your own, and I'll only give a tiny hint.
                    <br><br>
                    After that, we can look together at which part felt most confusing â€” logic, syntax, or just remembering where to define the counter variable.
                </div>

                <!-- SRL / CHOICE-OF-SUPPORT -->
                <div class="quick-replies" aria-label="Choose the type of help you prefer">
                    <button class="chip-btn" id="btn-hint" aria-label="Request guided step-by-step support">
                        Show Step-by-Step Hint
                    </button>
                    <button class="chip-btn" id="btn-example" aria-label="Request a worked example">
                        Show Similar Example
                    </button>
                    <button class="chip-btn" id="btn-alone" aria-label="Try alone first with minimal hint">
                        Let Me Try Alone First
                    </button>
                </div>

                <!-- Dynamic content area -->
                <div class="support-response" id="support-response-box">
                    <!-- gets populated dynamically -->
                </div>

                <!-- TRANSPARENCY / ETHICS NOTICE -->
                <div class="privacy-line">
                    Your activity data stays inside this course environment.
                    You can ask me to delete your practice history at any time.
                </div>
            </div>
        </div>
    </div>

    <!-- MICRO-SURVEY / PERCEPTUAL & TRUST -->
    <div class="container" id="survey-section">
        <h2>Session Reflection &amp; Usability Check</h2>
        <div class="step">
            <p>
                At the end of the session, Ayse is asked three short questions. These reflect perceived clarity,
                psychological safety (feeling supported, not judged), and next-step confidence.
            </p>

            <div class="survey-item">
                <strong>1. The assistant's guidance was clear and easy to follow.</strong>
                <div class="likert-row">
                    <label><input type="radio" name="q1" value="1">1</label>
                    <label><input type="radio" name="q1" value="2">2</label>
                    <label><input type="radio" name="q1" value="3">3</label>
                    <label><input type="radio" name="q1" value="4">4</label>
                    <label><input type="radio" name="q1" value="5">5</label>
                </div>
            </div>

            <div class="survey-item">
                <strong>2. I felt supported, not judged, while working on this task.</strong>
                <div class="likert-row">
                    <label><input type="radio" name="q2" value="1">1</label>
                    <label><input type="radio" name="q2" value="2">2</label>
                    <label><input type="radio" name="q2" value="3">3</label>
                    <label><input type="radio" name="q2" value="4">4</label>
                    <label><input type="radio" name="q2" value="5">5</label>
                </div>
            </div>

            <div class="survey-item">
                <strong>3. I know what I should do next to improve.</strong>
                <div class="likert-row">
                    <label><input type="radio" name="q3" value="1">1</label>
                    <label><input type="radio" name="q3" value="2">2</label>
                    <label><input type="radio" name="q3" value="3">3</label>
                    <label><input type="radio" name="q3" value="4">4</label>
                    <label><input type="radio" name="q3" value="5">5</label>
                </div>
            </div>

            <div class="survey-submit-wrapper">
                <button class="submit-btn" id="survey-submit" aria-label="Submit survey responses">
                    Submit
                </button>
                <div id="survey-thanks">
                    Thank you. Your responses have been logged.
                </div>
            </div>

            <p class="access-note">
                These perception signals can later be analyzed alongside behavioral data
                (time on task, hint requests, retry attempts) without storing raw chat content.
            </p>
        </div>
    </div>

    <script>
        /************************************************************
         * DATA MODEL
         * Each candidate path has:
         * - sequence of Learning Objects (M1..M4)
         * - metrics: lg = learning gain, eng = engagement,
         *            time = expected completion time (normalized),
         *            cl = cognitive load estimate
         ************************************************************/
        const pathsData = [
            {
                id: 1,
                name: "Candidate Path 1",
                sequence: "M1 (Video) â†’ M2 (Exercise) â†’ M4 (Quiz)",
                metrics: {
                    lg: 0.85,   // predicted learning gain
                    eng: 0.75,  // expected engagement/motivation
                    time: 0.65, // relative time cost
                    cl: 0.80    // cognitive load
                },
                explanation: "Good progression and reinforcement, but moving from a medium-guided exercise directly into a hard quiz can spike cognitive load."
            },
            {
                id: 2,
                name: "Candidate Path 2",
                sequence: "M1 (Video) â†’ M3 (Simulation) â†’ M2 (Exercise)",
                metrics: {
                    lg: 0.90,
                    eng: 0.90,
                    time: 0.55,
                    cl: 0.40
                },
                explanation: "Theory (video) is reinforced with an interactive simulation before hands-on coding. High engagement, relatively low cognitive load, and efficient pacing."
            },
            {
                id: 3,
                name: "Candidate Path 3",
                sequence: "M4 (Quiz) â†’ M1 (Video) â†’ M2 (Exercise)",
                metrics: {
                    lg: 0.50,
                    eng: 0.40,
                    time: 0.70,
                    cl: 0.90
                },
                explanation: "Starting with a hard quiz risks early frustration and demotivation. Lower predicted learning gain and high cognitive load."
            }
        ];

        /************************************************************
         * SCORING FUNCTIONS
         * GA (Genetic Algorithm view):
         *  - prioritizes discovering high-gain/high-engagement paths,
         *    tolerates some cognitive load and time cost
         * SSA (Salp Swarm Algorithm view):
         *  - prioritizes stability: lowers time & load,
         *    still keeps gain/engagement decent
         ************************************************************/

        function calculateScoreGA(metrics) {
            // GA weights: more exploratory, reward gain+eng, lighter penalty on load/time
            // score_GA = 0.5*lg + 0.3*eng - 0.1*time - 0.1*cl
            const score =
                (0.5 * metrics.lg) +
                (0.3 * metrics.eng) -
                (0.1 * metrics.time) -
                (0.1 * metrics.cl);
            return score.toFixed(3);
        }

        function calculateScoreSSA(metrics) {
            // SSA weights: more conservative, emphasizes low time and low cognitive load
            // score_SSA = 0.4*lg + 0.2*eng - 0.2*time - 0.2*cl
            const score =
                (0.4 * metrics.lg) +
                (0.2 * metrics.eng) -
                (0.2 * metrics.time) -
                (0.2 * metrics.cl);
            return score.toFixed(3);
        }

        /************************************************************
         * HELPER: render support box content after quick-reply click
         ************************************************************/
        function showSupportContent(type) {
            const box = document.getElementById("support-response-box");
            if (!box) return;

            if (type === "hint") {
                box.innerHTML = `
                    <strong>Step-by-Step Hint:</strong><br>
                    1. Start by defining a counter variable before the loop.<br>
                    2. Set your loop condition (e.g., <code>i &lt; 10</code>).<br>
                    3. Inside the loop, print or update something.<br>
                    4. Increment the counter at the end of each iteration.<br><br>
                    Try to explain to yourself why the counter must be defined <em>before</em> the loop, not inside it.
                `;
            } else if (type === "example") {
                box.innerHTML = `
                    <strong>Worked Example:</strong><br>
                    <code>
                    let i = 0;<br>
                    while (i &lt; 3) {<br>
                    &nbsp;&nbsp;console.log("Loop iteration:", i);<br>
                    &nbsp;&nbsp;i = i + 1;<br>
                    }<br>
                    </code>
                    Notice the pattern:<br>
                    - we create <code>i</code> before the loop,<br>
                    - we check a stopping condition,<br>
                    - we update <code>i</code> every time to avoid an infinite loop.
                `;
            } else if (type === "alone") {
                box.innerHTML = `
                    <strong>Okay â€” you're in control. ðŸ”</strong><br>
                    Try one more attempt on your own.<br>
                    Micro-hint: make sure your counter changes every time, otherwise the loop never ends.<br><br>
                    Iâ€™ll stay quiet unless you ask again. Youâ€™ve got this.
                `;
            } else {
                box.innerHTML = "";
            }

            box.style.display = "block";
        }

        /************************************************************
         * MAIN SIMULATION ROUTINE
         ************************************************************/
        function runSimulation() {
            const container = document.getElementById('path-container');
            container.innerHTML = '';

            let bestPathGA = null;
            let bestGA = -Infinity;

            let bestPathSSA = null;
            let bestSSA = -Infinity;

            pathsData.forEach((pathData, index) => {
                // compute both scores
                const scoreGA = parseFloat(calculateScoreGA(pathData.metrics));
                const scoreSSA = parseFloat(calculateScoreSSA(pathData.metrics));

                // track best GA
                if (scoreGA > bestGA) {
                    bestGA = scoreGA;
                    bestPathGA = pathData;
                }

                // track best SSA
                if (scoreSSA > bestSSA) {
                    bestSSA = scoreSSA;
                    bestPathSSA = pathData;
                }

                // build card
                const pathDiv = document.createElement('div');
                pathDiv.className = 'path';
                pathDiv.innerHTML = `
                    <h3>${pathData.name}</h3>
                    <p><strong>Sequence:</strong> ${pathData.sequence}</p>

                    <p><strong>Predicted Metrics:</strong></p>
                    <ul>
                        <li>Learning Gain (G): ${pathData.metrics.lg}</li>
                        <li>Engagement (M): ${pathData.metrics.eng}</li>
                        <li>Time Cost (T): ${pathData.metrics.time}</li>
                        <li>Cognitive Load (L): ${pathData.metrics.cl}</li>
                    </ul>

                    <div class="scores-box">
                        <div><span class="label">GA Fitness Score:</span> <span id="ga-${pathData.id}">â€¦</span></div>
                        <div><span class="label">SSA Fitness Score:</span> <span id="ssa-${pathData.id}">â€¦</span></div>
                    </div>

                    <p style="font-size:0.9em; color:#555;"><i>${pathData.explanation}</i></p>

                    <div class="result-box" id="result-${pathData.id}">
                        Computing recommended statusâ€¦
                    </div>
                `;
                container.appendChild(pathDiv);

                // simple fade-in animation
                setTimeout(() => {
                    pathDiv.classList.add('visible');
                }, index * 200);

                // delayed score fill to simulate "calculation"
                setTimeout(() => {
                    document.getElementById(`ga-${pathData.id}`).textContent = scoreGA.toFixed(3);
                    document.getElementById(`ssa-${pathData.id}`).textContent = scoreSSA.toFixed(3);
                }, 600 + (index * 200));
            });

            // After rendering all path cards, mark best per algorithm
            setTimeout(() => {
                pathsData.forEach(pathData => {
                    const scoreGA = parseFloat(calculateScoreGA(pathData.metrics));
                    const scoreSSA = parseFloat(calculateScoreSSA(pathData.metrics));

                    const resultBox = document.getElementById(`result-${pathData.id}`);
                    const parentDiv = resultBox.parentElement;

                    // if it's best in either GA or SSA, highlight as best-path
                    if ((bestPathGA && pathData.id === bestPathGA.id) ||
                        (bestPathSSA && pathData.id === bestPathSSA.id)) {
                        parentDiv.classList.add('best-path');
                        parentDiv.classList.remove('other-path');

                        let labels = [];
                        if (bestPathGA && pathData.id === bestPathGA.id) {
                            labels.push(`GA best (${bestGA.toFixed(3)})`);
                        }
                        if (bestPathSSA && pathData.id === bestPathSSA.id) {
                            labels.push(`SSA best (${bestSSA.toFixed(3)})`);
                        }
                        resultBox.textContent = `Recommended by ${labels.join(" and ")}.`;
                    } else {
                        parentDiv.classList.add('other-path');
                        parentDiv.classList.remove('best-path');
                        resultBox.textContent = "Not top-ranked for this learner profile.";
                    }
                });

                // Show final summary box
                const finalResultDiv = document.getElementById('final-result');
                const resultText = document.getElementById('result-text');

                resultText.innerHTML = `
                    <strong>GA (Genetic Algorithm)</strong> favors
                    <em>${bestPathGA.name}</em> with score ${bestGA.toFixed(3)}, prioritizing high learning gain and engagement,
                    even if cognitive load is moderately high.<br><br>

                    <strong>SSA (Salp Swarm Algorithm)</strong> favors
                    <em>${bestPathSSA.name}</em> with score ${bestSSA.toFixed(3)}, emphasizing low time cost and lower
                    cognitive load for a calmer pacing.<br><br>

                    <strong>Instructional implication:</strong>
                    Different optimizers encode different pedagogical philosophies:
                    exploration &amp; challenge (GA) vs. stability &amp; pacing (SSA).
                `;
                finalResultDiv.style.display = 'block';

                // Reveal chatbot + survey sections to simulate "session continues"
                document.getElementById('chatbot-section').style.display = 'block';
                document.getElementById('survey-section').style.display = 'block';

                // Attach click handlers for quick-reply chips
                const btnHint = document.getElementById("btn-hint");
                const btnExample = document.getElementById("btn-example");
                const btnAlone = document.getElementById("btn-alone");
                if (btnHint) {
                    btnHint.addEventListener("click", () => {
                        showSupportContent("hint");
                    });
                }
                if (btnExample) {
                    btnExample.addEventListener("click", () => {
                        showSupportContent("example");
                    });
                }
                if (btnAlone) {
                    btnAlone.addEventListener("click", () => {
                        showSupportContent("alone");
                    });
                }

                // Attach submit handler for survey
                const submitBtn = document.getElementById("survey-submit");
                const thanksBox = document.getElementById("survey-thanks");
                if (submitBtn && thanksBox) {
                    submitBtn.addEventListener("click", () => {
                        thanksBox.style.display = "block";
                    });
                }

            }, 1500); // after scores fill
        }
    </script>
</body>
</html>
